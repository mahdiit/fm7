(function framework7ComponentLoader(e,a){void 0===a&&(a=!0);document,window;var q=e.$,j=(e.Template7,e.utils),I=(e.device,e.support),t=e.Class,l=(e.Modal,e.ConstructorMethods),n=(e.ModalMethods,function(O){function e(a,t){O.call(this,t,[a]);var s=this,e={el:null,inputEl:null,dual:!1,step:1,label:!1,min:0,max:100,value:0,draggableBar:!0,vertical:!1,verticalReversed:!1,formatLabel:null,scale:!1,scaleSteps:5,scaleSubSteps:0,formatScaleLabel:null};s.useModulesParams(e),s.params=j.extend(e,t);var r=s.params.el;if(!r)return s;var l=q(r);if(0===l.length)return s;if(l[0].f7Range)return l[0].f7Range;var n,i=l.dataset();"step min max value scaleSteps scaleSubSteps".split(" ").forEach(function(e){void 0===t[e]&&void 0!==i[e]&&(s.params[e]=parseFloat(i[e]))}),"dual label vertical verticalReversed scale".split(" ").forEach(function(e){void 0===t[e]&&void 0!==i[e]&&(s.params[e]=i[e])}),s.params.value||(void 0!==i.value&&(s.params.value=i.value),void 0!==i.valueLeft&&void 0!==i.valueRight&&(s.params.value=[parseFloat(i.valueLeft),parseFloat(i.valueRight)])),s.params.dual||(s.params.inputEl?n=q(s.params.inputEl):l.find('input[type="range"]').length&&(n=l.find('input[type="range"]').eq(0)));var o=s.params,u=o.dual,c=o.step,v=o.label,p=o.min,d=o.max,g=o.value,f=o.vertical,h=o.verticalReversed,m=o.scale,b=o.scaleSteps,y=o.scaleSubSteps;j.extend(s,{app:a,$el:l,el:l[0],$inputEl:n,inputEl:n?n[0]:void 0,dual:u,step:c,label:v,min:p,max:d,value:g,previousValue:g,vertical:f,verticalReversed:h,scale:m,scaleSteps:b,scaleSubSteps:y}),n&&("step min max".split(" ").forEach(function(e){!t[e]&&n.attr(e)&&(s.params[e]=parseFloat(n.attr(e)),s[e]=parseFloat(n.attr(e)))}),void 0!==n.val()&&(s.params.value=parseFloat(n.val()),s.value=parseFloat(n.val()))),s.dual&&l.addClass("range-slider-dual"),s.label&&l.addClass("range-slider-label"),s.vertical?(l.addClass("range-slider-vertical"),s.verticalReversed&&l.addClass("range-slider-vertical-reversed")):l.addClass("range-slider-horizontal");var S=q('<div class="range-bar"></div>'),$=q('<div class="range-bar-active"></div>');S.append($);var E='\n      <div class="range-knob-wrap">\n        <div class="range-knob"></div>\n        '+(s.label?'<div class="range-knob-label"></div>':"")+"\n      </div>\n    ",x=[q(E)];s.dual&&x.push(q(E)),l.append(S),x.forEach(function(e){l.append(e)});var R,k,M=[];s.label&&(M.push(x[0].find(".range-knob-label")),s.dual&&M.push(x[1].find(".range-knob-label"))),s.scale&&1<s.scaleSteps&&(R=q('\n        <div class="range-scale">\n          '+s.renderScale()+"\n        </div>\n      "),l.append(R)),j.extend(s,{knobs:x,labels:M,$barEl:S,$barActiveEl:$,$scaleEl:R}),l[0].f7Range=s;var C,L,V,W,w,H,F,z,A,T,B={};function P(){F=!0}function X(e){if(!k&&(s.params.draggableBar||0!==q(e.target).closest(".range-knob").length)){var a;F=!1,B.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,B.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,k=!0,C=void 0,L=l.offset(),V=L.left,W=L.top,s.vertical?(a=(B.y-W)/s.rangeHeight,s.verticalReversed||(a=1-a)):a=s.app.rtl?(V+s.rangeWidth-B.x)/s.rangeWidth:(B.x-V)/s.rangeWidth;var t=a*(s.max-s.min)+s.min;t=s.dual?Math.abs(s.value[0]-t)<Math.abs(s.value[1]-t)?(H=0,w=s.knobs[0],[t,s.value[1]]):(H=1,w=s.knobs[1],[s.value[0],t]):(w=s.knobs[0],a*(s.max-s.min)+s.min),j.nextTick(function(){k&&w.addClass("range-knob-active-state")},70),s.on("change",P),s.setValue(t,!0)}}function Y(e){if(k){var a="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,t="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===C&&(C=s.vertical?!(C||Math.abs(t-B.y)>Math.abs(a-B.x)):!!(C||Math.abs(t-B.y)>Math.abs(a-B.x))),C)k=!1;else{var r;e.preventDefault(),s.vertical?(r=(t-W)/s.rangeHeight,s.verticalReversed||(r=1-r)):r=s.app.rtl?(V+s.rangeWidth-a)/s.rangeWidth:(a-V)/s.rangeWidth;var l,n,i=r*(s.max-s.min)+s.min;if(s.dual)0===H?(l=i,(n=s.value[1])<l&&(n=l)):(n=i)<(l=s.value[0])&&(l=n),i=[l,n];s.setValue(i,!0)}}}function _(){if(!k)return C&&w.removeClass("range-knob-active-state"),void(k=!1);s.off("change",P),k=!1,w.removeClass("range-knob-active-state"),F&&s.$inputEl&&!s.dual&&s.$inputEl.trigger("change"),F=!1,void 0!==s.previousValue&&(s.dual&&(s.previousValue[0]!==s.value[0]||s.previousValue[1]!==s.value[1])||!s.dual&&s.previousValue!==s.value)&&(s.$el.trigger("range:changed",s,s.value),s.emit("local::changed rangeChanged",s,s.value))}function D(){s.calcSize(),s.layout()}return s.attachEvents=function(){var e=!!I.passiveListener&&{passive:!0};s.$el.on(a.touchEvents.start,X,e),a.on("touchmove",Y),a.on("touchend:passive",_),a.on("tabShow",D),a.on("resize",D),(z=s.$el.parents(".sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast")).on("modal:open",D),(A=s.$el.parents(".panel")).on("panel:open",D),(T=s.$el.parents(".page").eq(0)).on("page:reinit",D)},s.detachEvents=function(){var e=!!I.passiveListener&&{passive:!0};s.$el.off(a.touchEvents.start,X,e),a.off("touchmove",Y),a.off("touchend:passive",_),a.off("tabShow",D),a.off("resize",D),z&&z.off("modal:open",D),A&&A.off("panel:open",D),T&&T.off("page:reinit",D),T=A=z=null},s.useModules(),s.init(),s}return O&&(e.__proto__=O),((e.prototype=Object.create(O&&O.prototype)).constructor=e).prototype.calcSize=function(){var e=this;if(e.vertical){var a=e.$el.outerHeight();if(0===a)return;e.rangeHeight=a,e.knobHeight=e.knobs[0].outerHeight()}else{var t=e.$el.outerWidth();if(0===t)return;e.rangeWidth=t,e.knobWidth=e.knobs[0].outerWidth()}},e.prototype.layout=function(){var e,l=this,n=l.app,a=l.knobWidth,t=l.knobHeight,r=l.rangeWidth,i=l.rangeHeight,s=l.min,o=l.max,u=l.knobs,c=l.$barActiveEl,v=l.value,p=l.label,d=l.labels,g=l.vertical,f=l.verticalReversed,h=g?t:a,m=g?i:r,b=g?f?"top":"bottom":n.rtl?"right":"left";if(l.dual){var y=[(v[0]-s)/(o-s),(v[1]-s)/(o-s)];c.css(((e={})[b]=100*y[0]+"%",e[g?"height":"width"]=100*(y[1]-y[0])+"%",e)),u.forEach(function(e,a){var t=m*y[a];if("ios"===n.theme){var r=m*y[a]-h/2;r<0&&(t=h/2),m<r+h&&(t=m-h/2)}e.css(b,t+"px"),p&&d[a].text(l.formatLabel(v[a],d[a][0]))})}else{var S=(v-s)/(o-s);c.css(g?"height":"width",100*S+"%");var $=m*S;if("ios"===n.theme){var E=m*S-h/2;E<0&&($=h/2),m<E+h&&($=m-h/2)}u[0].css(b,$+"px"),p&&d[0].text(l.formatLabel(v,d[0][0]))}l.dual&&0<=v.indexOf(s)||!l.dual&&v===s?l.$el.addClass("range-slider-min"):l.$el.removeClass("range-slider-min"),l.dual&&0<=v.indexOf(o)||!l.dual&&v===o?l.$el.addClass("range-slider-max"):l.$el.removeClass("range-slider-max")},e.prototype.setValue=function(e,a){var t,r,l=this,n=l.step,i=l.min,s=l.max;if(l.dual){r=[l.value[0],l.value[1]];var o=e;if(Array.isArray(o)||(o=[e,e]),e[0]>e[1]&&(o=[o[0],o[0]]),(o=o.map(function(e){return Math.max(Math.min(Math.round(e/n)*n,s),i)}))[0]===l.value[0]&&o[1]===l.value[1])return l;o.forEach(function(e,a){l.value[a]=e}),t=r[0]!==o[0]||r[1]!==o[1],l.layout()}else{r=l.value;var u=Math.max(Math.min(Math.round(e/n)*n,s),i);l.value=u,l.layout(),t=r!==u}return t&&(l.previousValue=r),t&&(l.$el.trigger("range:change",l,l.value),l.$inputEl&&!l.dual&&(l.$inputEl.val(l.value),a?l.$inputEl.trigger("input"):l.$inputEl.trigger("input change")),a||(l.$el.trigger("range:changed",l,l.value),l.emit("local::changed rangeChanged",l,l.value)),l.emit("local::change rangeChange",l,l.value)),l},e.prototype.getValue=function(){return this.value},e.prototype.formatLabel=function(e,a){return this.params.formatLabel?this.params.formatLabel.call(this,e,a):e},e.prototype.formatScaleLabel=function(e){return this.params.formatScaleLabel?this.params.formatScaleLabel.call(this,e):e},e.prototype.renderScale=function(){var i=this,e=i.app,a=i.verticalReversed,s=i.vertical?a?"top":"bottom":e.rtl?"right":"left",o="";return Array.from({length:i.scaleSteps+1}).forEach(function(e,a){var l=(i.max-i.min)/i.scaleSteps,n=i.min+l*a,t=(n-i.min)/(i.max-i.min);o+='<div class="range-scale-step" style="'+s+": "+100*t+'%">'+i.formatScaleLabel(n)+"</div>",i.scaleSubSteps&&1<i.scaleSubSteps&&a<i.scaleSteps&&Array.from({length:i.scaleSubSteps-1}).forEach(function(e,a){var t=l/i.scaleSubSteps,r=(n+t*(a+1)-i.min)/(i.max-i.min);o+='<div class="range-scale-step range-scale-substep" style="'+s+": "+100*r+'%"></div>'})}),o},e.prototype.updateScale=function(){var e=this;if(!e.scale||e.scaleSteps<2)return e.$scaleEl&&e.$scaleEl.remove(),void delete e.$scaleEl;e.$scaleEl||(e.$scaleEl=q('<div class="range-scale"></div>'),e.$el.append(e.$scaleEl)),e.$scaleEl.html(e.renderScale())},e.prototype.init=function(){return this.calcSize(),this.layout(),this.attachEvents(),this},e.prototype.destroy=function(){var e=this;e.$el.trigger("range:beforedestroy",e),e.emit("local::beforeDestroy rangeBeforeDestroy",e),delete e.$el[0].f7Range,e.detachEvents(),j.deleteProps(e),e=null},e}(t)),r={name:"range",create:function(){var r=this;r.range=j.extend(l({defaultSelector:".range-slider",constructor:n,app:r,domProp:"f7Range"}),{getValue:function(e){void 0===e&&(e=".range-slider");var a=r.range.get(e);if(a)return a.getValue()},setValue:function(e,a){void 0===e&&(e=".range-slider");var t=r.range.get(e);if(t)return t.setValue(a)}})},static:{Range:n},on:{tabMounted:function(e){var t=this;q(e).find(".range-slider-init").each(function(e,a){return new n(t,{el:a})})},tabBeforeRemove:function(e){q(e).find(".range-slider-init").each(function(e,a){a.f7Range&&a.f7Range.destroy()})},pageInit:function(e){var t=this;e.$el.find(".range-slider-init").each(function(e,a){return new n(t,{el:a})})},pageBeforeRemove:function(e){e.$el.find(".range-slider-init").each(function(e,a){a.f7Range&&a.f7Range.destroy()})}},vnode:{"range-slider-init":{insert:function(e){var a=e.elm;this.range.create({el:a})},destroy:function(e){var a=e.elm;a.f7Range&&a.f7Range.destroy()}}}};if(a){if(e.prototype.modules&&e.prototype.modules[r.name])return;e.use(r),e.instance&&(e.instance.useModuleParams(r,e.instance.params),e.instance.useModule(r))}return r}(Framework7, typeof Framework7AutoInstallComponent === 'undefined' ? undefined : Framework7AutoInstallComponent))